{"ast":null,"code":"import _regeneratorRuntime from \"/home/vishwanath/Desktop/NoteStore/mernweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/vishwanath/Desktop/NoteStore/mernweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/home/vishwanath/Desktop/NoteStore/mernweb/src/components/Logout.jsx\";\n\nimport React, { useEffect } from 'react';\nimport { useHistory } from 'react-router';\n\nvar Logout = function Logout() {\n  // const history = useHistory();\n  var logout = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return fetch('/logout', {\n                method: \"GET\",\n                headers: {\n                  Accept: \"application/json\",\n                  \"Content-Type\": \"application/json\"\n                },\n                credentials: \"include\"\n              });\n\n            case 3:\n              res = _context.sent;\n\n              if (res.status === 401 || !res) {\n                window.alert(\"Please Logout later\");\n              } else {\n                history.push('/');\n                window.location.reload();\n              }\n\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function logout() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    logout();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  });\n};\n\nexport default Logout;","map":{"version":3,"sources":["/home/vishwanath/Desktop/NoteStore/mernweb/src/components/Logout.jsx"],"names":["React","useEffect","useHistory","Logout","logout","fetch","method","headers","Accept","credentials","res","status","window","alert","history","push","location","reload","console","log"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAASC,UAAT,QAA2B,cAA3B;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AACjB;AAEA,MAAMC,MAAM;AAAA,wEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEWC,KAAK,CAAC,SAAD,EAAY;AAC/BC,gBAAAA,MAAM,EAAG,KADsB;AAE/BC,gBAAAA,OAAO,EAAG;AACNC,kBAAAA,MAAM,EAAG,kBADH;AAEN,kCAAiB;AAFX,iBAFqB;AAM/BC,gBAAAA,WAAW,EAAG;AANiB,eAAZ,CAFhB;;AAAA;AAEDC,cAAAA,GAFC;;AAUP,kBAAGA,GAAG,CAACC,MAAJ,KAAe,GAAf,IAAsB,CAACD,GAA1B,EAA+B;AAC3BE,gBAAAA,MAAM,CAACC,KAAP,CAAa,qBAAb;AACH,eAFD,MAEK;AACDC,gBAAAA,OAAO,CAACC,IAAR,CAAa,GAAb;AACAH,gBAAAA,MAAM,CAACI,QAAP,CAAgBC,MAAhB;AACH;;AAfM;AAAA;;AAAA;AAAA;AAAA;AAiBPC,cAAAA,OAAO,CAACC,GAAR;;AAjBO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAANf,MAAM;AAAA;AAAA;AAAA,KAAZ;;AAqBAH,EAAAA,SAAS,CAAC,YAAM;AACZG,IAAAA,MAAM;AACT,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AAMH,CAlCD;;AAqCA,eAAeD,MAAf","sourcesContent":["import React, {useEffect} from 'react';\nimport { useHistory } from 'react-router';\n\nconst Logout = () => {\n    // const history = useHistory();\n\n    const logout = async () => {\n        try {\n            const res = await fetch('/logout', {\n                method : \"GET\",\n                headers : {\n                    Accept : \"application/json\",\n                    \"Content-Type\" : \"application/json\"\n                },\n                credentials : \"include\"\n            });\n            if(res.status === 401 || !res ){\n                window.alert(\"Please Logout later\");\n            }else{\n                history.push('/');\n                window.location.reload()\n            }\n        }catch(error){\n            console.log(error)\n        }\n    }\n\n    useEffect(() => {\n        logout();\n    }, []);\n\n    return (\n        <div>\n\n        </div>\n    );\n\n}\n\n\nexport default Logout;"]},"metadata":{},"sourceType":"module"}