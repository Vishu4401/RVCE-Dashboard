{"ast":null,"code":"import _defineProperty from \"/home/vishwanath/Desktop/NoteStore/mernweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/home/vishwanath/Desktop/NoteStore/mernweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/vishwanath/Desktop/NoteStore/mernweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/vishwanath/Desktop/NoteStore/mernweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/vishwanath/Desktop/NoteStore/mernweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/vishwanath/Desktop/NoteStore/mernweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/vishwanath/Desktop/NoteStore/mernweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/vishwanath/Desktop/NoteStore/mernweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/vishwanath/Desktop/NoteStore/mernweb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/vishwanath/Desktop/NoteStore/mernweb/src/components/Posts.js\";\nimport React, { Component } from 'react';\nimport { list, countTotalPosts } from './apiPost';\nimport { Link } from 'react-router-dom'; // import Loading from '../loading/Loading';\n// // import DefaultProfile from '../images/avatar.jpg'\n// import { timeDifference } from './timeDifference';\n// import InfiniteScroll from 'react-infinite-scroll-component';\n\nvar Posts = /*#__PURE__*/function (_Component) {\n  _inherits(Posts, _Component);\n\n  function Posts() {\n    var _this;\n\n    _classCallCheck(this, Posts);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Posts).call(this));\n    _this.fetchData = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var data, joinedArray;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(_this.state.posts.length >= _this.state.count)) {\n                _context.next = 3;\n                break;\n              }\n\n              _this.setState({\n                hasMore: false\n              });\n\n              return _context.abrupt(\"return\");\n\n            case 3:\n              _context.next = 5;\n              return list(_this.state.skip);\n\n            case 5:\n              data = _context.sent;\n\n              if (data.error) {\n                console.log(data.error);\n              } else {\n                joinedArray = _this.state.posts.concat(data);\n\n                _this.setState({\n                  posts: joinedArray\n                }, _this.updateSkip);\n              }\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    _this.updateSkip = function () {\n      _this.setState({\n        skip: _this.state.posts.length\n      });\n    };\n\n    _this.renderPosts = function (posts) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(InfiniteScroll, {\n        dataLength: posts.length,\n        next: _this.fetchData,\n        hasMore: _this.state.hasMore,\n        loader: /*#__PURE__*/React.createElement(Loading, {\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 29\n          }\n        }),\n        endMessage: /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            textAlign: 'center'\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"b\", {\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }\n        }, \"All posts rendered.. Please refresh to see new posts if any\")),\n        __self: _assertThisInitialized(_assertThisInitialized(_this)),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }\n      }, posts.map(function (post, i) {\n        var _ref2;\n\n        var posterId = post.postedBy ? post.postedBy._id : \"\";\n        var posterName = post.postedBy ? post.postedBy.name : \" Unknown\";\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: i,\n          className: \"card col-md-12 mb-5\",\n          style: {\n            padding: \"0\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"card-header\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          className: \"mb-1 mr-2\",\n          style: {\n            height: \"40px\",\n            width: \"40px\",\n            borderRadius: \"50%\"\n          },\n          src: \"\".concat(process.env.REACT_APP_API_URL, \"/user/photo/\").concat(posterId),\n          onError: function onError(i) {\n            return i.target.src = DefaultProfile;\n          },\n          alt: posterName,\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 37\n          }\n        }), /*#__PURE__*/React.createElement(Link, {\n          to: \"/user/\".concat(posterId),\n          style: {\n            fontSize: \"24px\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 37\n          }\n        }, posterName), /*#__PURE__*/React.createElement(\"p\", {\n          style: {\n            marginBottom: \"0\"\n          },\n          className: \"pull-right mt-2\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"ml-2\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"i\", {\n          className: \"far fa-clock\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 45\n          }\n        }), \" \" + timeDifference(new Date(), new Date(post.created))))), /*#__PURE__*/React.createElement(Link, {\n          to: \"/post/\".concat(post._id),\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          className: \"card-img-top\",\n          src: \"\".concat(process.env.REACT_APP_API_URL, \"/post/photo/\").concat(post._id),\n          alt: post.title,\n          style: {\n            maxHeight: \"700px\",\n            backgroundSize: \"cover\",\n            backgroundRepeat: 'no-repeat',\n            backgroundPosition: \"50% 50%\"\n          },\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 37\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"card-body\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"h5\", {\n          className: \"card-title\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 37\n          }\n        }, post.title), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"card-text\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 37\n          }\n        }, post.body), /*#__PURE__*/React.createElement(Link, {\n          style: (_ref2 = {\n            background: \"#56ccf2\"\n          }, _defineProperty(_ref2, \"background\", \"-webkit-linear-gradient(to left, #56ccf2, #2f80ed)\"), _defineProperty(_ref2, \"background\", \"linear-gradient(to left, #56ccf2, #2f80ed)\"), _defineProperty(_ref2, \"borderRadius\", \"20px\"), _defineProperty(_ref2, \"padding\", \"10px\"), _ref2),\n          to: \"/post/\".concat(post._id),\n          className: \"btn btn-raised btn-sm btn-primary\",\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 37\n          }\n        }, \"Read More\")));\n      })));\n    };\n\n    _this.state = {\n      posts: [],\n      skip: 0,\n      hasMore: true,\n      count: 0\n    };\n    return _this;\n  }\n\n  _createClass(Posts, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var count;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return countTotalPosts();\n\n              case 2:\n                count = _context2.sent;\n                this.setState({\n                  count: count.data\n                });\n                this.fetchData();\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var posts = this.state.posts;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 17\n        }\n      }, !posts.length ? /*#__PURE__*/React.createElement(Loading, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 25\n        }\n      }) : this.renderPosts(posts));\n    }\n  }]);\n\n  return Posts;\n}(Component);\n\nexport default Posts;","map":{"version":3,"sources":["/home/vishwanath/Desktop/NoteStore/mernweb/src/components/Posts.js"],"names":["React","Component","list","countTotalPosts","Link","Posts","fetchData","state","posts","length","count","setState","hasMore","skip","data","error","console","log","joinedArray","concat","updateSkip","renderPosts","textAlign","map","post","i","posterId","postedBy","_id","posterName","name","padding","height","width","borderRadius","process","env","REACT_APP_API_URL","target","src","DefaultProfile","fontSize","marginBottom","timeDifference","Date","created","title","maxHeight","backgroundSize","backgroundRepeat","backgroundPosition","body","background"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport { list, countTotalPosts } from './apiPost';\r\nimport { Link } from 'react-router-dom';\r\n// import Loading from '../loading/Loading';\r\n// // import DefaultProfile from '../images/avatar.jpg'\r\n// import { timeDifference } from './timeDifference';\r\n// import InfiniteScroll from 'react-infinite-scroll-component';\r\n\r\nclass Posts extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            posts: [],\r\n            skip: 0,\r\n            hasMore: true,\r\n            count: 0\r\n        }\r\n    }\r\n\r\n    fetchData = async () => {\r\n        if (this.state.posts.length >= this.state.count) {\r\n            this.setState({ hasMore: false });\r\n            return;\r\n        }\r\n        const data = await list(this.state.skip)\r\n        \r\n        if (data.error) {\r\n            console.log(data.error)\r\n        } else {\r\n            var joinedArray = this.state.posts.concat(data);\r\n            this.setState({ posts: joinedArray}, this.updateSkip);\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const count = await countTotalPosts()\r\n        this.setState({count: count.data})\r\n        this.fetchData()\r\n    }\r\n\r\n    updateSkip = () => {\r\n        this.setState({ skip: this.state.posts.length })\r\n    }\r\n\r\n\r\n\r\n    renderPosts = (posts) => {\r\n        return (\r\n            <div className=\"row\">\r\n                <InfiniteScroll\r\n                    dataLength={posts.length}\r\n                    next={this.fetchData}\r\n                    hasMore={this.state.hasMore}\r\n                    loader={<Loading />}\r\n                    endMessage={\r\n                        <p style={{ textAlign: 'center' }}>\r\n                            <b>All posts rendered.. Please refresh to see new posts if any</b>\r\n                        </p>\r\n                    }\r\n                >\r\n                    { posts.map((post, i) => {\r\n                        const posterId = post.postedBy ? post.postedBy._id : \"\";\r\n                        const posterName = post.postedBy ? post.postedBy.name : \" Unknown\";\r\n                        return (\r\n                            <div key={i} className=\"card col-md-12 mb-5\" style={{ padding: \"0\" }} >\r\n                                <div className=\"card-header\">\r\n                                    <img\r\n                                        className=\"mb-1 mr-2\"\r\n                                        style={{ height: \"40px\", width: \"40px\", borderRadius: \"50%\" }}\r\n                                        src={`${process.env.REACT_APP_API_URL}/user/photo/${posterId}`}\r\n                                        onError={i => (i.target.src = DefaultProfile)}\r\n                                        alt={posterName}\r\n                                    />\r\n                                    <Link to={`/user/${posterId}`} style={{ fontSize: \"24px\" }}>\r\n                                        {posterName}\r\n                                    </Link>\r\n                                    <p\r\n                                        style={{ marginBottom: \"0\" }}\r\n                                        className=\"pull-right mt-2\"\r\n                                    >\r\n                                        <span className=\"ml-2\">\r\n                                            <i className=\"far fa-clock\"></i>{\" \" + timeDifference(new Date(), new Date(post.created))}\r\n                                        </span>\r\n                                    </p>\r\n                                </div>\r\n                                <Link to={`/post/${post._id}`}>\r\n                                    <img\r\n                                        className=\"card-img-top\"\r\n                                        src={`${process.env.REACT_APP_API_URL}/post/photo/${post._id}`}\r\n                                        alt={post.title}\r\n                                        style={{\r\n                                            maxHeight: \"700px\",\r\n                                            backgroundSize: \"cover\",\r\n                                            backgroundRepeat: 'no-repeat',\r\n                                            backgroundPosition: \"50% 50%\"\r\n                                        }}\r\n                                    />\r\n                                </Link>\r\n                                <div className=\"card-body\">\r\n                                    <h5 className=\"card-title\">{post.title}</h5>\r\n                                    <p className=\"card-text\">{post.body}</p>\r\n                                    <Link\r\n                                        style={{\r\n                                            background: \"#56ccf2\",\r\n                                            background: \"-webkit-linear-gradient(to left, #56ccf2, #2f80ed)\",\r\n                                            background: \"linear-gradient(to left, #56ccf2, #2f80ed)\",\r\n                                            borderRadius: \"20px\",\r\n                                            padding: \"10px\"\r\n                                        }}\r\n                                        to={`/post/${post._id}`}\r\n                                        className=\"btn btn-raised btn-sm btn-primary\">\r\n                                        Read More\r\n                                </Link>\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        );\r\n                    })}\r\n                </InfiniteScroll>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    render(){\r\n        const {posts} = this.state;\r\n        return(\r\n                <div className=\"container\">\r\n                    {!posts.length ? (\r\n                        <Loading />\r\n                    ) : (\r\n                            this.renderPosts(posts)\r\n                        )}\r\n                </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Posts;"]},"metadata":{},"sourceType":"module"}